image: Visual Studio 2019

platform:
    - 64
    
configuration:
    - Debug
    
# whitelist branches to avoid testing feature branches twice (as branch and as pull request)
branches:
  only:
    - master

build-script:
    - call "C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvars64.bat"
    - mkdir build-msvc
    - cd build-msvc
    - cmake -G "Visual Studio 16 2019" ..
    - msbuild EasyEel2.sln
    - tests
    - cd ..